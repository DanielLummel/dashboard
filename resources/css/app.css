@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --shell-bg: #f6f8f8;
        --shell-panel: #ffffff;
        --shell-ink: #0f172a;
        --shell-muted: #475569;
        --shell-line: #dbe4e8;
        --shell-brand: #0f766e;
        --shell-accent: #ea580c;
    }

    :root.dark {
        --shell-bg: #020617;
        --shell-panel: #0b1220;
        --shell-ink: #e2e8f0;
        --shell-muted: #94a3b8;
        --shell-line: #334155;
        --shell-brand: #14b8a6;
        --shell-accent: #fb923c;
    }

    body {
        @apply font-sans antialiased;
        color: var(--shell-ink);
        background: radial-gradient(circle at 0% 0%, #dff3ef, transparent 38%), radial-gradient(circle at 100% 100%, #ffe9d7, transparent 42%), var(--shell-bg);
        transition: color 180ms ease, background-color 180ms ease;
    }

    .dark body {
        color: var(--shell-ink);
        background: radial-gradient(circle at 0% 0%, #0f172a, transparent 38%), radial-gradient(circle at 100% 100%, #1e293b, transparent 42%), var(--shell-bg);
    }

    :root.dark {
        --tw-ring-offset-color: #0b1220;
    }

    .dark input[type='checkbox'] {
        @apply border-slate-600 bg-slate-900 text-brand-500 focus:ring-brand-500;
    }
}

@layer components {
    .panel {
        @apply rounded-2xl border border-slate-200/80 bg-white/90 shadow-sm ring-1 ring-slate-100/70;
        backdrop-filter: blur(6px);
    }

    .module-card {
        @apply panel relative overflow-hidden;
    }

    .module-card::after {
        content: '';
        position: absolute;
        inset: auto 0 0 0;
        height: 3px;
        background: linear-gradient(90deg, rgb(15 118 110 / 0.9), rgb(251 146 60 / 0.85));
    }

    .btn-primary {
        @apply inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-brand-700 to-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:from-brand-600 hover:to-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-600 focus:ring-offset-1;
    }

    .btn-secondary {
        @apply inline-flex items-center gap-2 rounded-lg border border-slate-300 bg-white/90 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-brand-600 focus:ring-offset-1;
    }

    .btn-danger {
        @apply inline-flex items-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1;
    }

    .input-base {
        @apply block w-full rounded-lg border-slate-300 text-sm text-slate-900 shadow-sm focus:border-brand-600 focus:ring-brand-600;
    }

    .textarea-base {
        @apply block w-full rounded-lg border-slate-300 text-sm text-slate-900 shadow-sm focus:border-brand-600 focus:ring-brand-600;
    }

    .select-base {
        @apply block w-full rounded-lg border-slate-300 text-sm text-slate-900 shadow-sm focus:border-brand-600 focus:ring-brand-600;
    }

    .badge {
        @apply inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-700;
    }

    .prose-lite {
        @apply space-y-3 text-sm text-slate-700;
    }

    .prose-lite h1,
    .prose-lite h2,
    .prose-lite h3 {
        @apply mt-4 font-semibold text-slate-900;
    }

    .prose-lite pre {
        @apply overflow-x-auto rounded-lg bg-slate-900 p-4 font-mono text-xs text-slate-100;
    }

    .prose-lite code {
        @apply rounded bg-slate-100 px-1.5 py-0.5 font-mono text-xs text-slate-800;
    }

    .prose-lite ul {
        @apply list-disc space-y-1 pl-5;
    }

    .prose-lite a {
        @apply text-brand-700 underline;
    }
}

@layer components {
    .dark .panel {
        @apply border-slate-700/80 bg-slate-900/85 ring-slate-700/50 shadow-slate-950/50;
    }

    .dark .btn-secondary {
        @apply border-slate-600 bg-slate-800/90 text-slate-200 hover:bg-slate-700;
    }

    .dark .input-base,
    .dark .textarea-base,
    .dark .select-base {
        @apply border-slate-600 bg-slate-900 text-slate-100;
    }

    .dark .input-base::placeholder,
    .dark .textarea-base::placeholder,
    .dark .select-base::placeholder {
        color: rgb(148 163 184);
    }

    .dark .badge {
        @apply bg-slate-700 text-slate-100;
    }

    .dark .prose-lite {
        @apply text-slate-200;
    }

    .dark .prose-lite h1,
    .dark .prose-lite h2,
    .dark .prose-lite h3 {
        @apply text-slate-100;
    }

    .dark .prose-lite code {
        @apply bg-slate-700 text-slate-100;
    }

    .dark .prose-lite a {
        @apply text-brand-500;
    }
}

@layer utilities {
    .dark .bg-white {
        background-color: rgb(15 23 42);
    }

    .dark .bg-slate-50 {
        background-color: rgb(30 41 59);
    }

    .dark .text-slate-900 {
        color: rgb(241 245 249);
    }

    .dark .text-slate-700 {
        color: rgb(226 232 240);
    }

    .dark .text-slate-600 {
        color: rgb(203 213 225);
    }

    .dark .text-slate-500 {
        color: rgb(148 163 184);
    }

    .dark .border-slate-200 {
        border-color: rgb(51 65 85);
    }

    .dark .border-slate-300 {
        border-color: rgb(71 85 105);
    }

    .dark .border-gray-100 {
        border-color: rgb(51 65 85);
    }

    .dark .border-gray-200 {
        border-color: rgb(51 65 85);
    }

    .dark .border-gray-300 {
        border-color: rgb(71 85 105);
    }

    .dark .text-gray-900 {
        color: rgb(241 245 249);
    }

    .dark .text-gray-800 {
        color: rgb(226 232 240);
    }

    .dark .text-gray-700 {
        color: rgb(203 213 225);
    }

    .dark .text-gray-600 {
        color: rgb(148 163 184);
    }

    .dark .text-gray-500 {
        color: rgb(148 163 184);
    }

    .dark .text-gray-400 {
        color: rgb(100 116 139);
    }

    .dark .bg-gray-50 {
        background-color: rgb(30 41 59);
    }

    .dark .bg-gray-100 {
        background-color: rgb(30 41 59);
    }

    .dark .bg-gray-800 {
        background-color: rgb(51 65 85);
    }

    .dark .divide-slate-100 > :not([hidden]) ~ :not([hidden]) {
        border-color: rgb(51 65 85 / 0.7);
    }

    .dark .hover\:bg-slate-50:hover {
        background-color: rgb(30 41 59);
    }

    .dark .hover\:bg-slate-100:hover {
        background-color: rgb(30 41 59);
    }

    .dark .hover\:bg-gray-50:hover {
        background-color: rgb(30 41 59);
    }

    .dark .hover\:bg-gray-100:hover {
        background-color: rgb(30 41 59);
    }

    .dark .focus\:bg-gray-100:focus {
        background-color: rgb(30 41 59);
    }

    .dark .focus\:bg-gray-50:focus {
        background-color: rgb(30 41 59);
    }

    .dark .hover\:text-gray-900:hover {
        color: rgb(241 245 249);
    }

    .dark .hover\:text-gray-800:hover {
        color: rgb(241 245 249);
    }

    .dark .hover\:text-gray-700:hover {
        color: rgb(226 232 240);
    }

    .dark .focus\:text-gray-800:focus {
        color: rgb(241 245 249);
    }

    .dark .focus\:text-gray-700:focus {
        color: rgb(226 232 240);
    }

    .dark .focus\:text-gray-500:focus {
        color: rgb(203 213 225);
    }

    .dark .hover\:text-gray-500:hover {
        color: rgb(203 213 225);
    }

    .dark .ring-gray-300 {
        --tw-ring-color: rgb(51 65 85 / 0.7);
    }
}
